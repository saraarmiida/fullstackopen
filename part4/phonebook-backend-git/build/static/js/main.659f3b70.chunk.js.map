{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Numbers.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","props","value","onChange","InputBox","text","PersonForm","onSubmit","nameValue","nameOnChange","numberValue","numberOnChange","type","Numbers","persons","handleClick","map","person","key","name","number","onClick","id","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","baseUrl","axios","get","then","response","data","newObject","post","delete","changedPerson","put","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notificationMsg","setNotificationMsg","notificationType","setNotificationType","useEffect","personService","initialPersons","newPersons","filter","toLowerCase","includes","event","target","preventDefault","nameObject","indexOf","window","confirm","find","p","personUpdate","returnedPerson","setTimeout","catch","error","concat","console","log","ReactDOM","render","document","getElementById"],"mappings":"qMAaeA,EAXA,SAACC,GACf,OACC,iDACC,2BACCC,MAAOD,EAAMC,MACbC,SAAUF,EAAME,aCLdC,EAAW,SAACH,GACjB,OACC,6BAAMA,EAAMI,KACX,2BACCH,MAAOD,EAAMC,MACbC,SAAUF,EAAME,aAmBLG,EAbI,SAACL,GACnB,OACC,0BAAMM,SAAUN,EAAMM,UACrB,kBAAC,EAAD,CAAUF,KAAK,QAAQH,MAAOD,EAAMO,UAAWL,SAAUF,EAAMQ,eAC/D,kBAAC,EAAD,CAAUJ,KAAK,UAAUH,MAAOD,EAAMS,YAAaP,SAAUF,EAAMU,iBACnE,6BACC,4BAAQC,KAAK,UAAb,UCTWC,EARC,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,QAASC,EAAkB,EAAlBA,YAC3B,OACC,6BACED,EAAQE,KAAI,SAAAC,GAAM,OAAI,yBAAKC,IAAKD,EAAOE,MAAOF,EAAOE,KAA/B,IAAsCF,EAAOG,OAA7C,IAAqD,4BAAQC,QAAS,kBAAMN,EAAYE,EAAOK,MAA1C,gBCmChEC,EAtCM,SAAC,GAAqB,IAApBC,EAAmB,EAAnBA,QAASZ,EAAU,EAAVA,KAoB/B,OAAgB,OAAZY,EACI,KAGK,iBAATZ,EAEF,yBAAKa,MAzBmB,CACzBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAmBXR,GAKH,yBAAKC,MAtBa,CAClBC,MAAO,MACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,GACTC,aAAc,KAgBZR,I,gBClCES,EAAU,eAsBD,EApBA,WAEd,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB3B,EAfA,SAAAC,GAEd,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa3B,EAVA,SAAChB,GAEf,OADgBY,IAAMO,OAAN,UAAgBR,EAAhB,YAA2BX,IAC5Bc,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ3B,EALA,SAAChB,EAAIoB,GAEnB,OADgBR,IAAMS,IAAN,UAAaV,EAAb,YAAwBX,GAAMoB,GAC/BN,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SC0H3BM,EAvIH,WAAO,IAAD,EACaC,mBAAS,IADtB,mBACV/B,EADU,KACDgC,EADC,OAEaD,mBAAS,IAFtB,mBAEVE,EAFU,KAEDC,EAFC,OAGiBH,mBAAS,IAH1B,mBAGVI,EAHU,KAGCC,EAHD,OAIiBL,mBAAS,IAJ1B,mBAIVM,EAJU,KAICC,EAJD,OAK6BP,mBAAS,MALtC,mBAKVQ,EALU,KAKOC,EALP,OAM+BT,mBAAS,MANxC,mBAMVU,EANU,KAMQC,EANR,KAQjBC,qBAAU,WACTC,IAEEtB,MAAK,SAAAuB,GACLb,EAAWa,QAEX,IAEH,IAAMC,EAAaT,EAChBrC,EAAQ+C,QAAO,SAAA5C,GAAM,OAAIA,EAAOE,KAAK2C,cAAcC,SAASZ,EAAUW,kBACtEhD,EAoGH,OACC,6BACC,yCACA,kBAAC,EAAD,CAAcU,QAAS6B,EAAiBzC,KAAM2C,IAC9C,kBAAC,EAAD,CAAQrD,MAAOiD,EAAWhD,SARD,SAAC6D,GAC3BZ,EAAaY,EAAMC,OAAO/D,UAQzB,yCACA,kBAAC,EAAD,CAAYK,SAxGI,SAACyD,GAClBA,EAAME,iBACN,IAAMC,EAAa,CAClBhD,KAAM4B,EACN3B,OAAQ6B,GAGT,IAA6D,IAAzDnC,EAAQE,KAAI,SAAAC,GAAM,OAAIA,EAAOE,QAAMiD,QAAQrB,IAC9C,GAAIsB,OAAOC,QAAP,UAAkBvB,EAAlB,uEAAgG,CACnG,IAAM9B,EAASH,EAAQyD,MAAK,SAAAC,GAAC,OAAIA,EAAErD,OAAS4B,KACtCzB,EAAKL,EAAOK,GACZmD,EAAY,2BAAQxD,GAAR,IAAgBG,OAAQ6B,IAE1CS,EACSpC,EAAImD,GACXrC,MAAK,SAAAsC,GACLpB,EAAmB,qBAAD,OAAsBP,IACxCS,EAAoB,gBACpBmB,YAAW,WACVrB,EAAmB,QACjB,KACHR,EAAWhC,EAAQE,KAAI,SAAAC,GAAM,OAAIA,EAAOK,KAAOA,EAAKL,EAASyD,SAE7DE,OAAO,SAAAC,GACPvB,EAAmB,kBAAD,OAAmBP,EAAnB,0CAClBS,EAAoB,SACpBmB,YAAW,WACVrB,EAAmB,MACnBE,EAAoB,QAClB,KACHV,EAAWhC,EAAQ+C,QAAO,SAAAW,GAAC,OAAIA,EAAElD,KAAOA,eAK3CoC,EACSS,GACP/B,MAAK,SAAAsC,GACLpB,EAAmB,SAAD,OAAUP,IAC5BS,EAAoB,gBACpBmB,YAAW,WACVrB,EAAmB,QACjB,KACHR,EAAWhC,EAAQgE,OAAOJ,OAE1BE,OAAM,SAAAC,GACNvB,EAAmB,oBACnBE,EAAoB,SACpBmB,YAAW,WACVrB,EAAmB,MACnBE,EAAoB,QAClB,QAGNR,EAAW,IACXE,EAAa,KAkDX1C,UAAWuC,EACXtC,aApBsB,SAACuD,GACzBhB,EAAWgB,EAAMC,OAAO/D,QAoBtBQ,YAAauC,EACbtC,eAlBwB,SAACqD,GAC3Bd,EAAac,EAAMC,OAAO/D,UAkBzB,uCACA,kBAAC,EAAD,CAASY,QAAS8C,EAAY7C,YApDX,SAACO,GACrB,IAAML,EAASH,EAAQyD,MAAK,SAAAC,GAAC,OAAIA,EAAElD,KAAOA,KAEtC+C,OAAOC,QAAP,iBAAyBrD,EAAOE,KAAhC,QACH4D,QAAQC,IAAI,oBACZtB,EACSpC,GACPc,MAAK,SAAAsC,GACLpB,EAAmB,WAAD,OAAYrC,EAAOE,OACrCqC,EAAoB,gBACpBmB,YAAW,WACVrB,EAAmB,QACjB,KACHR,EAAWhC,EAAQ+C,QAAO,SAAAW,GAAC,OAAIA,EAAElD,KAAOA,SAExCsD,OAAO,SAAAC,GACPvB,EAAmB,kBAAD,OAAmBP,EAAnB,0CAClBS,EAAoB,SACpBmB,YAAW,WACVrB,EAAmB,MACnBE,EAAoB,QAClB,KACHV,EAAWhC,EAAQ+C,QAAO,SAAAW,GAAC,OAAIA,EAAElD,KAAOA,eCvG7C2D,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.659f3b70.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = (props) => {\n\treturn (\n\t\t<div>filter shown with\n\t\t\t<input\n\t\t\t\tvalue={props.value}\n\t\t\t\tonChange={props.onChange}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nexport default Filter","import React from 'react'\n\nconst InputBox = (props) => {\n\treturn (\n\t\t<div>{props.text}\n\t\t\t<input\n\t\t\t\tvalue={props.value}\n\t\t\t\tonChange={props.onChange}\n\t\t\t/>\n\t\t</div>\n\t)\n}\n\nconst PersonForm = (props) => {\n\treturn (\n\t\t<form onSubmit={props.onSubmit}>\n\t\t\t<InputBox text='name:' value={props.nameValue} onChange={props.nameOnChange} />\n\t\t\t<InputBox text='number:' value={props.numberValue} onChange={props.numberOnChange} />\n\t\t\t<div>\n\t\t\t\t<button type=\"submit\">add</button>\n\t\t\t</div>\n\t\t</form>\n\n\t)\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Numbers = ({ persons, handleClick }) => {\n\treturn (\n\t\t<div>\n\t\t\t{persons.map(person => <div key={person.name}>{person.name} {person.number} <button onClick={() => handleClick(person.id)}>delete</button></div>)}\n\t\t</div>\n\t)\n}\n\nexport default Numbers","import React from 'react'\n\nconst Notification = ({message, type}) => {\n\tconst notificationStyle = {\n\t\tcolor: 'green',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\tconst errorStyle = {\n\t\tcolor: 'red',\n\t\tbackground: 'lightgrey',\n\t\tfontSize: 20,\n\t\tborderStyle: 'solid',\n\t\tborderRadius: 5,\n\t\tpadding: 10,\n\t\tmarginBottom: 10\n\t}\n\n\tif (message === null) {\n\t\treturn null\n\t}\n\n\tif (type === 'notification') {\n\t\treturn (\n\t\t\t<div style={notificationStyle}>\n\t\t\t\t{message}\n\t\t\t</div>\n\t\t)\n\t}\n\treturn (\n\t\t<div style={errorStyle}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = newObject => {\n\tconst request = axios.post(baseUrl, newObject)\n\treturn request.then(response => response.data)\n}\n\nconst remove = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nconst update = (id, changedPerson) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, changedPerson)\n\treturn request.then(response => response.data)\n}\n\nexport default { getAll, create, remove, update }","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Numbers from './components/Numbers'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n\tconst [persons, setPersons] = useState([])\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [newFilter, setNewFilter] = useState('')\n\tconst [notificationMsg, setNotificationMsg] = useState(null)\n\tconst [notificationType, setNotificationType] = useState(null)\n\n\tuseEffect(() => {\n\t\tpersonService\n\t\t\t.getAll()\n\t\t\t.then(initialPersons => {\n\t\t\t\tsetPersons(initialPersons)\n\t\t\t})\n\t}, [])\n\n\tconst newPersons = newFilter\n\t\t? persons.filter(person => person.name.toLowerCase().includes(newFilter.toLowerCase()))\n\t\t: persons\n\n\tconst addPerson = (event) => {\n\t\tevent.preventDefault()\n\t\tconst nameObject = {\n\t\t\tname: newName,\n\t\t\tnumber: newNumber\n\t\t}\n\n\t\tif (persons.map(person => person.name).indexOf(newName) !== -1) {\n\t\t\tif (window.confirm(`${newName} is already added to phonebook, replace old number with a new one?`)) {\n\t\t\t\tconst person = persons.find(p => p.name === newName)\n\t\t\t\tconst id = person.id\n\t\t\t\tconst personUpdate = { ...person, number: newNumber }\n\t\t\t\t\n\t\t\t\tpersonService\n\t\t\t\t\t.update(id, personUpdate)\n\t\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\t\tsetNotificationMsg(`Changed number of ${newName}`)\n\t\t\t\t\t\tsetNotificationType('notification')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetNotificationMsg(null)\n\t\t\t\t\t\t}, 3000)\n\t\t\t\t\t\tsetPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n\t\t\t\t\t})\n\t\t\t\t\t.catch( error => {\n\t\t\t\t\t\tsetNotificationMsg(`Information of ${newName} has already been removed from server`)\n\t\t\t\t\t\tsetNotificationType('error')\n\t\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\t\tsetNotificationMsg(null)\n\t\t\t\t\t\t\tsetNotificationType(null)\n\t\t\t\t\t\t}, 3000)\n\t\t\t\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\t\t\t}\n\t\t\t\t\t)\n\t\t\t}\n\t\t} else {\n\t\t\tpersonService\n\t\t\t\t.create(nameObject)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetNotificationMsg(`Added ${newName}`)\n\t\t\t\t\tsetNotificationType('notification')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMsg(null)\n\t\t\t\t\t}, 3000)\n\t\t\t\t\tsetPersons(persons.concat(returnedPerson))\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetNotificationMsg(`Validation error`)\n\t\t\t\t\tsetNotificationType('error')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMsg(null)\n\t\t\t\t\t\tsetNotificationType(null)\n\t\t\t\t\t}, 3000)\n\t\t\t\t})\n\t\t}\n\t\tsetNewName('')\n\t\tsetNewNumber('')\n\t}\n\n\tconst deletePerson = (id) => {\n\t\tconst person = persons.find(p => p.id === id)\n\n\t\tif (window.confirm(`Delete ${person.name}?`)) {\n\t\t\tconsole.log(\"delete confirmed\")\n\t\t\tpersonService\n\t\t\t\t.remove(id)\n\t\t\t\t.then(returnedPerson => {\n\t\t\t\t\tsetNotificationMsg(`Deleted ${person.name}`)\n\t\t\t\t\tsetNotificationType('notification')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMsg(null)\n\t\t\t\t\t}, 3000)\n\t\t\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\t\t})\n\t\t\t\t.catch( error => {\n\t\t\t\t\tsetNotificationMsg(`Information of ${newName} has already been removed from server`)\n\t\t\t\t\tsetNotificationType('error')\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetNotificationMsg(null)\n\t\t\t\t\t\tsetNotificationType(null)\n\t\t\t\t\t}, 3000)\n\t\t\t\t\tsetPersons(persons.filter(p => p.id !== id))\n\t\t\t\t}\n\t\t\t\t)\n\t\t}\n\t}\n\n\tconst handleNameChange = (event) => {\n\t\tsetNewName(event.target.value)\n\t}\n\n\tconst handleNumberChange = (event) => {\n\t\tsetNewNumber(event.target.value)\n\t}\n\n\tconst handleFilterChange = (event) => {\n\t\tsetNewFilter(event.target.value)\n\t}\n\n\treturn (\n\t\t<div>\n\t\t\t<h2>Phonebook</h2>\n\t\t\t<Notification message={notificationMsg} type={notificationType}/>\n\t\t\t<Filter value={newFilter} onChange={handleFilterChange} />\n\t\t\t<h2>Add a new</h2>\n\t\t\t<PersonForm onSubmit={addPerson}\n\t\t\t\tnameValue={newName}\n\t\t\t\tnameOnChange={handleNameChange}\n\t\t\t\tnumberValue={newNumber}\n\t\t\t\tnumberOnChange={handleNumberChange} />\n\t\t\t<h2>Numbers</h2>\n\t\t\t<Numbers persons={newPersons} handleClick={deletePerson} />\n\t\t</div>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'))\n"],"sourceRoot":""}